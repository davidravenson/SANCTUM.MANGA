<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SANCTUM ‚Äî Pilot</title>

<style>
html,body{
  margin:0; padding:0; height:100%;
  background:#000; color:#fff;
  font-family:system-ui,sans-serif;
}

.ver{
  position:fixed; top:8px; right:10px;
  font-size:11px; opacity:.5;
  font-family:ui-monospace,monospace;
}

.wrap{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding:12px;
}

.panel img{
  width:100%;
  max-width:900px;
  display:block;
}

.toolbar{
  width:100%;
  max-width:900px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 12px;
  background:rgba(20,20,20,.7);
  border-radius:16px;
}

.track{
  font-size:13px;
  white-space:pre-line;
  opacity:.9;
}

button{
  width:56px; height:56px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.25);
  background:#111;
  color:#fff;
  font-size:20px;
}
</style>
</head>

<body>
<div class="ver">v0.12</div>

<audio id="audio" preload="auto" playsinline>
  <source src="https://raw.githubusercontent.com/davidravenson/SANCTUM.MANGA/master/media/audio/chapter-00/instrumental.mp3" type="audio/mpeg">
</audio>

<div class="wrap" id="unlockArea">

  <div class="panel">
    <img src="manga/chapter-00/panel01.jpg">
  </div>

  <div class="toolbar">
    <div class="track">
      Arcangel (Placeholder)
      ‚Äî (Artist later)
    </div>
    <button id="playBtn">‚ñ∂</button>
  </div>

</div>

<script>
const audio = document.getElementById("audio");
const btn   = document.getElementById("playBtn");
const unlockArea = document.getElementById("unlockArea");

let unlocked = false;

// üîë ONE REAL USER GESTURE
unlockArea.addEventListener("click", async () => {
  if (unlocked) return;
  try{
    audio.volume = 0.5;
    await audio.play();
    audio.pause();
    unlocked = true;
    console.log("Audio unlocked");
  }catch(e){
    console.log("Unlock failed", e);
  }
},{ once:true });

btn.addEventListener("click", async (e)=>{
  e.stopPropagation(); // IMPORTANT
  if (!unlocked) return;

  if (audio.paused){
    await audio.play();
    btn.textContent = "‚è∏";
  } else {
    audio.pause();
    btn.textContent = "‚ñ∂";
  }
});
</script>
</body>
</html>